---
import type { ImageMetadata } from 'astro'
import { Image, getImage } from 'astro:assets'

interface Props {
    url: string
}

const {url} = Astro.props

const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/**/*.webp')

const imageResult = await getImage({src: images[url](), format: 'webp'})
---

<a href={imageResult.src}>
    <Image src={images[url]()}
           alt="thumbail"
           height={50}
           layout="fixed" />
</a>
